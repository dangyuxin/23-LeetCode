# 4月25日题解

## [847. 图中点的层次 - AcWing题库](https://www.acwing.com/problem/content/849/)

![image-20240425223028408](https://picture-cloud-store.oss-cn-beijing.aliyuncs.com/image-20240425223028408.png)

```c
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <string.h>
#define N 100010
int n, m;
int e[2 * N], ne[2 * N], h[N], idx;
int d[N];
void add(int a, int b){
    e[idx] = b;
    ne[idx] = h[a];
    h[a] = idx++;
}
int queue[N], head = 0, tail = 0;
int bfs(int x){
    memset(d, -1, sizeof(d));
    d[x] = 0;
    queue[tail++] = 1;
    while(head < tail){
        int temp = queue[head++];
        for(int i = h[temp]; i != -1; i = ne[i]){
            int j = e[i];
            if(d[j] == -1){
                d[j] = d[temp] + 1;
                queue[tail++] = j;
            }
        }
    }
    return d[n];
}
int main()
{
    scanf("%d %d", &n, &m);
    memset(h, -1, sizeof(h));
    for(int i = 0; i < m; i++){
        int a, b;
        scanf("%d %d", &a, &b);
        add(a, b);
    }
    printf("%d", bfs(1));
    return 0;
}
```

